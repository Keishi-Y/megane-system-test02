(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(5),l=a.n(c),s=(a(11),a(2)),o=a.n(s),m=a(3),i=a(1);a(13);function u(e){var t=e.record,a=e.refreshRecords,r=t.birthday.replace(/-/g," / "),c=function(){var e=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/records",{method:"DELETE",body:JSON.stringify({id:t.id})});case 3:a(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"list-group-item"},n.a.createElement("h4",{className:"list-group-item-heading mt-4 mb-4"},"\u304a\u540d\u524d\uff1a",t.name),n.a.createElement("p",{className:"list-group-item-heading"},"\u751f\u5e74\u6708\u65e5\uff1a",r),n.a.createElement("p",{className:"list-group-item-heading"},"\u96fb\u8a71\u756a\u53f7\uff1a",t.tel),n.a.createElement("p",{className:"list-group-item-heading"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff1a",t.email),n.a.createElement("p",{className:"list-group-item-heading"},"\u4f4f\u6240\uff1a",t.address),n.a.createElement("p",{className:"list-group-item-heading"},"\u521d\u56de\u6765\u5e97\u65e5\uff1a",t.firstVisit),n.a.createElement("p",{className:"list-group-item-heading"},"\u6700\u7d42\u6765\u5e97\u65e5\uff1a",t.lastVisit),n.a.createElement("button",{className:"btn btn-sm btn-danger ml-2",onClick:c},"\u524a\u9664"))}function d(e){var t=e.records,a=e.refreshRecords;return n.a.createElement("div",null,n.a.createElement("h2",{className:"mt-5 mb-3"},"\u30ab\u30eb\u30c6\u4e00\u89a7"),n.a.createElement("div",{className:"list-group"},t.map((function(e){return n.a.createElement(u,{record:e,key:e.id,refreshRecords:a})}))))}function p(e){var t=e.recordAdded,a=Object(r.useState)(""),c=Object(i.a)(a,2),l=c[0],s=c[1],u=Object(r.useState)(""),d=Object(i.a)(u,2),p=d[0],f=d[1],h=Object(r.useState)(""),b=Object(i.a)(h,2),v=b[0],E=b[1],g=Object(r.useState)(""),N=Object(i.a)(g,2),y=N[0],O=N[1],j=Object(r.useState)(""),w=Object(i.a)(j,2),x=w[0],S=w[1],k=Object(r.useState)(""),C=Object(i.a)(k,2),V=C[0],F=C[1],J=Object(r.useState)(""),R=Object(i.a)(J,2),A=R[0],B=R[1],D=function(){var e=Object(m.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,fetch("/api/records",{method:"POST",body:JSON.stringify({name:l,birthday:p,tel:v,email:y,address:x,firstVisit:V,lastVisit:A})});case 4:s(""),f(""),E(""),O(""),S(""),F(""),B(""),t(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},"\u30ab\u30eb\u30c6\u3092\u8ffd\u52a0\u3059\u308b"),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{className:"",onSubmit:D},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"\u540d\u524d"),n.a.createElement("input",{type:"text",name:"name",value:l,className:"form-control",onChange:function(e){return s(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"birthday"},"\u751f\u5e74\u6708\u65e5"),n.a.createElement("input",{type:"date",name:"birthday",value:p,className:"form-control",onChange:function(e){return f(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"tel"},"\u96fb\u8a71\u756a\u53f7"),n.a.createElement("input",{type:"tel",name:"tel",value:v,className:"form-control",onChange:function(e){return E(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"tel"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"),n.a.createElement("input",{type:"email",name:"email",value:y,className:"form-control",onChange:function(e){return O(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"address"},"\u4f4f\u6240"),n.a.createElement("input",{type:"text",name:"address",value:x,className:"form-control",onChange:function(e){return S(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"firstVisit"},"\u521d\u56de\u6765\u5e97\u65e5"),n.a.createElement("input",{type:"date",name:"firstVisit",value:V,className:"form-control",onChange:function(e){return F(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"lastVisit"},"\u6700\u7d42\u6765\u5e97\u65e5"),n.a.createElement("input",{type:"date",name:"lastVisit",value:A,className:"form-control",onChange:function(e){return B(e.target.value)}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"\u8ffd\u52a0\u3059\u308b"))))}var f=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/records");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),n.a.createElement("div",{className:"container mt-5 mb-5"},n.a.createElement("h1",{className:"mb-5 text-center"},"\u773c\u93e1\u30b7\u30b9\u30c6\u30e0"),n.a.createElement(p,{recordAdded:l}),n.a.createElement(d,{records:a,refreshRecords:l}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(14);l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,a){e.exports=a(15)}},[[6,1,2]]]);
//# sourceMappingURL=main.121cc14c.chunk.js.map