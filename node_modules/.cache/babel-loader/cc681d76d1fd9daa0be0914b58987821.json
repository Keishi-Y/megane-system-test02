{"ast":null,"code":"import _regeneratorRuntime from\"/Users/k4/test-apps/megane-system-test02/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/k4/test-apps/megane-system-test02/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/k4/test-apps/megane-system-test02/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";export default function ChartForm(_ref){var chartAdded=_ref.chartAdded;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),updateDate=_useState2[0],setUpdateDate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),birthday=_useState6[0],setBirthday=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),tel=_useState8[0],setTel=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),address=_useState12[0],setAddress=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),firstVisit=_useState14[0],setFirstVisit=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),lastVisit=_useState16[0],setLastVisit=_useState16[1];var resetForm=function resetForm(){setUpdateDate(\"\");setName(\"\");setBirthday(\"\");setTel(\"\");setEmail(\"\");setAddress(\"\");setFirstVisit(\"\");setLastVisit(\"\");};var submitChart=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fetch(\"/api/charts\",{method:\"POST\",body:JSON.stringify({updateDate:updateDate,name:name,birthday:birthday,tel:tel,email:email,address:address,firstVisit:firstVisit,lastVisit:lastVisit})});case 4:resetForm();chartAdded();_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0);window.alert(\"投稿エラーです\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function submitChart(_x){return _ref2.apply(this,arguments);};}();var date=new Date().toLocaleString();useEffect(function(){setUpdateDate(date);},[date]);return/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},\"\\u30AB\\u30EB\\u30C6\\u3092\\u8FFD\\u52A0\\u3059\\u308B\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"form\",{className:\"\",onSubmit:submitChart},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"updateDate\"},\"\\u767B\\u9332\\u65E5\\u6642\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"updateDate\",value:updateDate,className:\"form-control\",onChange:function onChange(e){return setUpdateDate(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"\\u540D\\u524D\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",value:name,className:\"form-control\",onChange:function onChange(e){return setName(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"birthday\"},\"\\u751F\\u5E74\\u6708\\u65E5\"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",name:\"birthday\",value:birthday,className:\"form-control\",onChange:function onChange(e){return setBirthday(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"tel\"},\"\\u96FB\\u8A71\\u756A\\u53F7\"),/*#__PURE__*/React.createElement(\"input\",{type:\"tel\",name:\"tel\",value:tel,className:\"form-control\",onChange:function onChange(e){return setTel(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"tel\"},\"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,className:\"form-control\",onChange:function onChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"address\"},\"\\u4F4F\\u6240\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"address\",value:address,className:\"form-control\",onChange:function onChange(e){return setAddress(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"firstVisit\"},\"\\u521D\\u56DE\\u6765\\u5E97\\u65E5\"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",name:\"firstVisit\",value:firstVisit,className:\"form-control\",onChange:function onChange(e){return setFirstVisit(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lastVisit\"},\"\\u6700\\u7D42\\u6765\\u5E97\\u65E5\"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",name:\"lastVisit\",value:lastVisit,className:\"form-control\",onChange:function onChange(e){return setLastVisit(e.target.value);}})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"\\u8FFD\\u52A0\\u3059\\u308B\"))));}","map":{"version":3,"sources":["/Users/k4/test-apps/megane-system-test02/src/components/tableData/chart/ChartForm.js"],"names":["React","useState","useEffect","ChartForm","chartAdded","updateDate","setUpdateDate","name","setName","birthday","setBirthday","tel","setTel","email","setEmail","address","setAddress","firstVisit","setFirstVisit","lastVisit","setLastVisit","resetForm","submitChart","e","preventDefault","fetch","method","body","JSON","stringify","console","error","window","alert","date","Date","toLocaleString","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nexport default function ChartForm({ chartAdded }) {\n  const [updateDate, setUpdateDate] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [birthday, setBirthday] = useState(\"\");\n  const [tel, setTel] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [firstVisit, setFirstVisit] = useState(\"\");\n  const [lastVisit, setLastVisit] = useState(\"\");\n\n  const resetForm = () => {\n    setUpdateDate(\"\");\n    setName(\"\");\n    setBirthday(\"\");\n    setTel(\"\");\n    setEmail(\"\");\n    setAddress(\"\");\n    setFirstVisit(\"\");\n    setLastVisit(\"\");\n  };\n  const submitChart = async (e) => {\n    e.preventDefault();\n    try {\n      await fetch(\"/api/charts\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          updateDate,\n          name,\n          birthday,\n          tel,\n          email,\n          address,\n          firstVisit,\n          lastVisit,\n        }),\n      });\n      resetForm();\n      chartAdded();\n    } catch (err) {\n      console.error(err);\n      window.alert(\"投稿エラーです\");\n    }\n  };\n\n  let date = new Date().toLocaleString();\n  useEffect(() => {\n    setUpdateDate(date);\n  }, [date]);\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">カルテを追加する</div>\n      <div className=\"card-body\">\n        <form className=\"\" onSubmit={submitChart}>\n          <div className=\"form-group\">\n            <label htmlFor=\"updateDate\">登録日時</label>\n            <input\n              type=\"text\"\n              name=\"updateDate\"\n              value={updateDate}\n              className=\"form-control\"\n              onChange={(e) => setUpdateDate(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">名前</label>\n            <input\n              type=\"text\"\n              name=\"name\"\n              value={name}\n              className=\"form-control\"\n              onChange={(e) => setName(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"birthday\">生年月日</label>\n            <input\n              type=\"date\"\n              name=\"birthday\"\n              value={birthday}\n              className=\"form-control\"\n              onChange={(e) => setBirthday(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"tel\">電話番号</label>\n            <input\n              type=\"tel\"\n              name=\"tel\"\n              value={tel}\n              className=\"form-control\"\n              onChange={(e) => setTel(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"tel\">メールアドレス</label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              className=\"form-control\"\n              onChange={(e) => setEmail(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"address\">住所</label>\n            <input\n              type=\"text\"\n              name=\"address\"\n              value={address}\n              className=\"form-control\"\n              onChange={(e) => setAddress(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"firstVisit\">初回来店日</label>\n            <input\n              type=\"date\"\n              name=\"firstVisit\"\n              value={firstVisit}\n              className=\"form-control\"\n              onChange={(e) => setFirstVisit(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"lastVisit\">最終来店日</label>\n            <input\n              type=\"date\"\n              name=\"lastVisit\"\n              value={lastVisit}\n              className=\"form-control\"\n              onChange={(e) => setLastVisit(e.target.value)}\n            />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            追加する\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}