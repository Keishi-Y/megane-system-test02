{"ast":null,"code":"import _regeneratorRuntime from\"/Users/k4/test-apps/megane-system-test02/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/k4/test-apps/megane-system-test02/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/k4/test-apps/megane-system-test02/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import FrameList from\"../components/tableData/frame/FrameList\";import{Link}from\"react-router-dom\";var FrameInfo=function FrameInfo(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),frames=_useState2[0],setFrames=_useState2[1];var loadFrames=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(mountState){var res,_frames;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/api/frames\");case 3:res=_context.sent;_context.next=6;return res.json();case 6:_frames=_context.sent;if(!mountState){setFrames(_frames);}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function loadFrames(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var unmount=false;loadFrames(unmount);return function(){unmount=true;};},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"mb-5 text-center\"},\"\\u30D5\\u30EC\\u30FC\\u30E0\\u60C5\\u5831\\u4E00\\u89A7\"),/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-5 mb-5\"},/*#__PURE__*/React.createElement(Link,{to:\"/create-frame-info\",className:\"btn-dark btn\"},\"\\u30D5\\u30EC\\u30FC\\u30E0\\u60C5\\u5831 \\u65B0\\u898F\\u8FFD\\u52A0\\u753B\\u9762\\u306B\\u9032\\u3080\"),/*#__PURE__*/React.createElement(FrameList,{frames:frames,refreshFrames:loadFrames})));};export default FrameInfo;","map":{"version":3,"sources":["/Users/k4/test-apps/megane-system-test02/src/pages/FrameInfo.js"],"names":["React","useEffect","useState","FrameList","Link","FrameInfo","frames","setFrames","loadFrames","mountState","fetch","res","json","console","error","unmount"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,yCAAtB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eACMH,QAAQ,CAAC,EAAD,CADd,wCACfI,MADe,eACPC,SADO,eAGtB,GAAMC,CAAAA,UAAU,0FAAG,iBAAOC,UAAP,wKAEGC,CAAAA,KAAK,CAAC,aAAD,CAFR,QAETC,GAFS,qCAGMA,CAAAA,GAAG,CAACC,IAAJ,EAHN,QAGTN,OAHS,eAIf,GAAI,CAACG,UAAL,CAAiB,CACfF,SAAS,CAACD,OAAD,CAAT,CACD,CANc,iFAQfO,OAAO,CAACC,KAAR,cARe,qEAAH,kBAAVN,CAAAA,UAAU,4CAAhB,CAYAP,SAAS,CAAC,UAAM,CACd,GAAIc,CAAAA,OAAO,CAAG,KAAd,CACAP,UAAU,CAACO,OAAD,CAAV,CACA,MAAO,WAAM,CACXA,OAAO,CAAG,IAAV,CACD,CAFD,CAGD,CANQ,CAMN,EANM,CAAT,CAQA,mBACE,4CACE,0BAAI,SAAS,CAAC,kBAAd,qDADF,cAEE,2BAAK,SAAS,CAAC,qBAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,oBAAT,CAA8B,SAAS,CAAC,cAAxC,gGADF,cAIE,oBAAC,SAAD,EAAW,MAAM,CAAET,MAAnB,CAA2B,aAAa,CAAEE,UAA1C,EAJF,CAFF,CADF,CAWD,CAlCD,CAoCA,cAAeH,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport FrameList from \"../components/tableData/frame/FrameList\";\nimport { Link } from \"react-router-dom\";\n\nconst FrameInfo = () => {\n  const [frames, setFrames] = useState([]);\n\n  const loadFrames = async (mountState) => {\n    try {\n      const res = await fetch(\"/api/frames\");\n      const frames = await res.json();\n      if (!mountState) {\n        setFrames(frames);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    let unmount = false;\n    loadFrames(unmount);\n    return () => {\n      unmount = true;\n    };\n  }, []);\n\n  return (\n    <div>\n      <h1 className=\"mb-5 text-center\">フレーム情報一覧</h1>\n      <div className=\"container mt-5 mb-5\">\n        <Link to=\"/create-frame-info\" className=\"btn-dark btn\">\n          フレーム情報 新規追加画面に進む\n        </Link>\n        <FrameList frames={frames} refreshFrames={loadFrames} />\n      </div>\n    </div>\n  );\n};\n\nexport default FrameInfo;\n"]},"metadata":{},"sourceType":"module"}